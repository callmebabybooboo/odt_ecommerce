<div class="max-w-3xl mx-auto bg-white p-6 rounded shadow">
    <h2 class="text-2xl font-bold mb-6">กรอกข้อมูลเพื่อชำระเงิน</h2>

    <%= form_with model: @order, url: orders_path, local: true, data: { controller: "checkout" } do |f| %>
        <div class="space-y-4">
            <div>
                <label class="font-semibold">วิธีการจัดส่ง</label>
                <%= f.select :delivery_method, ["รับเอง", "จัดส่ง"], {}, class: "w-full border p-2", data: { action: "change->checkout#toggleShipping" } %>
            </div>

            <div data-checkout-target="shippingFields" class="hidden">
                <label class="font-semibold">ที่อยู่สำหรับจัดส่ง</label>
                <%= f.text_area :shipping_address, rows: 3, class: "w-full border p-2" %>

                <label class="font-semibold mt-2 block">ชื่อผู้รับ</label>
                <%= f.text_field :shipping_name, class: "w-full border p-2" %>

                <label class="font-semibold mt-2 block">เบอร์โทรศัพท์</label>
                <%= f.text_field :phone_number, class: "w-full border p-2" %>
            </div>

            <div>
                <label class="font-semibold">วิธีชำระเงิน</label>
                <%= f.select :payment_method, ["เงินสด", "โอน"], {}, class: "w-full border p-2", data: { checkout_target: "paymentSelect" } %>
            </div>
            <%= f.submit "สั่งซื้อ", class: "bg-green-600 text-white px-4 py-2 rounded mt-4" %>
        </div>
    <% end %>
</div>
